<h1 class="display-7 fw-bold mb-4">Actualización dinámica de datos con Stimulus</h1>

<div class="row justify-content-md-center mt-5">
  <div class="col-4">
    <div class="form-group">
      <div class="form-floating">
        <%= select_tag "country",
                        options_for_select(Country.order(:name).pluck(:name, :id)),
                        include_blank: true,
                        data: {
                          controller: "regions",
                          action: "change->regions#handleSelectChange",
                          targetbox: "state"
                        },
                        class: "form-select" %>
        <%= label_tag "country", "Selecciona un país" %>
      </div>
    </div>
  </div>

  <div class="col-4">
    <div class="form-group">
      <div class="form-floating">
        <%= select_tag "state",
                        options_for_select(State.order(:name).pluck(:name, :id)),
                        include_blank: true,
                        disabled: true,
                        data: {},
                        class: "form-select" %>
        <%= label_tag "state", "Selecciona un provincia" %>
      </div>
    </div>
  </div>
</div>
